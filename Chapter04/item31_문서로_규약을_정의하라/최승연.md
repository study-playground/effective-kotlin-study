## 31. 문서로 규약 정의

- 대부분의 함수는 이름만으로 부족한 세부사항을 갖고 있기 때문에 추가적인 설명이 필요함 -> 그것을 주석으로 나타냄
- 특히 함수가 문서화되지 않았고 이름도 분명하지 않다면, 함수를 파악하기 위해 세부사항에 의존하게 될 것임 -> 결국 구현에 의존하므로 추상화 원칙에 위배
- 이러한 문제를 해결하기 위해서는 규약을 정의하고 문서를 정리해야 함
  - 규약을 정의하면 둘 다 윈윈: 작성하는 사람은 어떻게 사용할 지 생각하지 않아도 되고 사용하는 사람은 어떻게 구현되었는지 생각할 필요 없음 -> 독립적으로 작업이 가능

### 규약 정의
- 이름, 주석과 문서, 타입을 통해 규약을 정할 수 있음
- 주석 없이도 읽을 수 있는 코드를 작성하는 것도 좋지만, 언제나 중용 지키기.. (적절히 혼용하자)
  - 가장 베스트는 주석 대신, 함수로부터 코드를 분리하여 사용하는 것

### KDoc: 문서 정의
- 함수가 무엇인지 정확하게 설명하고자 한다면, KDoc 주석을 사용할 수 있음
- 구조
```kotlin
/**
 * 요약 설명 
 * 상세 설명 
 * 태그 (부가적인 설명을 위한 어노테이션)
 * */
```
- [지원하는 어노테이션 종류](https://kotlinlang.org/docs/kotlin-doc.html) (몰랐던 몇몇만 정리, 전체는 옆 링크 참조)

| 어노테이션       | 설명                                    |
|-------------|:--------------------------------------|
| `@receiver` | 확장 리시버에 대해 문서화할 때 사용                  |
| `@property` | 프로퍼티에 대해 문서화 할 때 사용                   |
| `@throw`    | 함수에서 발생할 수 있는 Exception에 대해 문서화할 때 사용 |

- 링크를 걸 때는 `[]` 사용: 대괄호 안에 파라미터나 클래스를 넣으면 선언된 위치로 링크됨

[//]: # (todo: kotlin convention vs KDoc)
[//]: # (https://kotlinlang.org/docs/coding-conventions.html#documentation-comments)

- Dokka를 사용하면 KDoc를 기반으로 자동으로 문서를 생성해줌

[//]: # (todo: Dokka 직접 사용해보기)

- 클래스의 동작을 예측하게 하려면 공개 함수에 대한 규약을 잘 지켜야 함
  - 리스코프 치환 원칙 (LSP): 클래스가 어떠한 동작이 예측되면 서브 클래스도 해당 동작을 보장해야 된다는 원칙 (상위 클래스를 서브 클래스로 교체하더라도 문제가 없어야 함)
- 구현의 세부사항은 항상 변화될 수 있지만, 이를 최대한 감추는 방향으로 설계해야 함