# Item 29 : Consider wrapping external API

라이브러리 개발자가 불안정하다고 명시한 API와 안정적으로 유지하지 못할 것이라고 판단되는 API를 지나치게 사용하는 것은 불가피하게 API가 변경될 수 있다는 리스크를 가진다.
이로 인해, API가 변경될 경우 프로젝트 내 사용되던 모든 Use-Case를 수정해야 하므로, 가능한 비지니스 로직 내에서의 사용을 자제하고 분리시키는 것이 좋다.

이런 리스크를 감안하고도 사용해야 하는 경우, 자체적으로 'unstable external API'를 래핑하여 사용하는 경우가 있다.
이런 래핑을 통해 프로젝트에서는 다음과 같은 자율성과 안정성을 얻을 수 있다.

- API가 변경되면 래퍼 내부의 한 곳에서만 수정하면 되기에 변경사항을 쉽게 관리할 수 있다.
- 프로젝트 스타일과 로직에 맞게 'external API'를 사용할 수 있도록 커스터마이징 할 수 있다.
- 'external API'에 이슈가 발생한 경우, 손쉽게 '다른 external API'로 교체할 수 있다.
- 필요에 따라 래핑된 객체의 상태를 추적하거나, 래핑 된 객체의 동작을 변경할 수 있다.

하지만, 프로젝트에 'external API'를 래핑하는 방식을 반대하는 의견도 있다.

- 'external API'가 업데이트되면 모든 래퍼 클래스를 업데이트해야 하기에, 많은 양의 코드를 수정해야 할 수 있다.
- 'external API'를 'internal API'로 변환하는 것과 같기에, 이를 사용하는 개발자들은 새로운 API를 다시 학습해야 한다.
- 'internal API'에 대한 자료가 부족할 수 있기 때문에, 외부 커뮤니티(e.g : Stack overflow)에 대한 도움을 기대하기 어렵다.

결과적으로, 'external API'를 래핑할지 말지는 위 두 의견을 모두 이해한 뒤에 결정하는 것이 좋다.  
그럼에도 제일 좋은 방식은 'stable external API'를 사용하는 것이다.

많은 API 중 어떤 것들이 안정적인지 알 수 없을 때에는 'external API'의 버전 번호와 사용자 수 지표를 확인하면 도움이 될 수 있다.
왜냐하면 사용자 수가 많은 API는 변경 사항이 정말 작게 발생하더라도, 많은 프로젝트에서 이를 대응해야 하는 것을 API 개발자가 인지하고 있기 때문에,
변경 사항에 대해 더욱 신중을 기울일 수밖에 없기에 더욱 안정적이다.  
반대로, 'unstable external API'는 사용자 수가 적고 새로운 라이브러리라는 것을 알 수 있다.
