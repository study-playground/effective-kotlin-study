## 아이템46. 함수 타입 파라미터를 갖는 함수에 inline 한정자를 붙여라

- inline 한정자의 역할은 컴파일 시점에 '함수를 호출하는 부분'을 '함수의 본문'으로 대체하는 것이다.
- 일반적인 함수를 호출하면 함수 본문으로 점프하고, 본문의 모든 문장을 호출한 뒤에 함수를 호출했던 위치로 다시 점프하는 과정을 거친다.
- inline 한정자를 사용하면 좋은점
  - 타입 아규먼트에 reified 한정자를 붙여서 사용할 수 있다.
  - 함수 타입 파라미터를 가진 함수가 훨씬 빠르게 동작한다.
    - 함수 호출과 리턴을 위해 점프하는 과정과 백스탭을 추적하는 과정이 없기 때문이다.
  - 비지역(non-local)리턴을 사용할 수 있다.
- public 인라인 함수 내부에서는 private 과 internal 가시성을 가진 함수와 프로퍼티를 사용할 수 없다.
- 인라인 함수는 구현을 숨길 수 없으므로, 클래스에 거의 사용되지 않는다.
- crossinline
  - 아규먼트로 인라인 함수를 받지만, 비지역적 리턴을 하는 함수는 받을 수 없게 만든다.
  - 인라인으로 만들지 않은 다른 람다 표현식과 조합해서 사용할 때 문제가 발생하는 경우 활용 
- noinline
  - 아규먼트로 인라인 함수를 받을 수 없게 만든다.
  - 인라인 함수가 아닌 함수를 아규먼트로 사용하고 싶을 때 활용한다.
- 인라인 함수가 사용되는 주요 사례
  - print 함수처럼 매우 많이 사용되는 경우
  - filterIsInstance 함수처럼 타입 아규먼트로 reified 타입을 전달받는 경우
  - 함수 타입 파라미터를 갖는 톱레벨 함수를 정의해야 하는 경우
    - 특히 컬렉션 처리 함수와 같은 헬퍼 함수(map, filter, flatMap, joinToString 등)
    - 스코프 함수(also, apply, let 등)
    - 톱레벨 유틸리티 함수(repeat, run, with)
- API 를 정의할 때 인라인 함수를 사용하는 경우는 거의 없다.
- 또한 한 인라인 함수가 다른 인라인 함수를 호출하는 경우, 코드가 기하급수적으로 많아질 수 있으므로 주의해야 한다.